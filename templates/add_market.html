{% include "header.html" %}
{% from 'bootstrap5/form.html' import render_form %}

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

{% block content %}
<div class="container d-flex justify-content-center">
    <div class="col-sm-12 col-md-6">
        <div class="row">

            <h1 class="text-center">Add a new market into the database</h1>
            <!-- This is where your WTForm will go -->
            {{ render_form(form, novalidate=True) }}


        </div>
                    <div class="row px-2 py-4">
                <a class="btn btn-secondary btn-block" href="{{ url_for('markets_home') }} " role="button">
                    Go back to main page</a>
            </div>
    </div>
</div>
{% endblock %}
{% include "footer.html" %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
<script>
    $(function () {
        $('#open_t').datetimepicker({
            useCurrent: false,
            format: "HH:mm",  // 24-hour format
            icons: {
                time: 'fa fa-clock-o',
                date: 'fa fa-calendar',
                up: 'fa fa-chevron-up',
                down: 'fa fa-chevron-down',
                previous: 'fa fa-chevron-left',
                next: 'fa fa-chevron-right',
                today: 'fa fa-screenshot',
                clear: 'fa fa-trash',
                close: 'fa fa-remove'
            }
        });
        $('#close_t').datetimepicker({
            useCurrent: false,
            format: "HH:mm",  // 24-hour format
            icons: {
                time: 'fa fa-clock-o',
                date: 'fa fa-calendar',
                up: 'fa fa-chevron-up',
                down: 'fa fa-chevron-down',
                previous: 'fa fa-chevron-left',
                next: 'fa fa-chevron-right',
                today: 'fa fa-screenshot',
                clear: 'fa fa-trash',
                close: 'fa fa-remove'
            }
        });
    });
</script>
<script>
    function togglePopconfirm() {
        var popconfirm = document.getElementById('popconfirm');
        popconfirm.classList.toggle('show');
    }

    function confirmSubmission() {
        var response = confirm("Are you sure you want to submit the new market?");
        if (response) {
            // Submit the form
            document.getElementById('marketForm').submit();
        }
    }
</script>
